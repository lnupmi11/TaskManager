@model TaskManager.Extensions.UI.PaginatedList<UserProfile>
@using TaskManager.DAL.Models;
@{
    ViewData["Title"] = "Users";
    var index = 0;
}

<h1>Users</h1>


<table class="table">
    <tr>
        <th>
            UserName
        </th>
        <th>
            Registered On
        </th>
        <th>
            Tasks
        </th>
        <th>
            Email
        </th>
        <th>
            Actions
        </th>
    </tr>
    @foreach (var item in Model)
    {
        var rtId = "item" + index.ToString();
        <tr id="@rtId">
            <td>
                @Html.DisplayFor(modelItem => item.UserName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RegistredOn)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Tasks.Count)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                <a asp-controller="UserManagement" asp-action="Users" class="btn btn-info">Details</a>
                <a asp-controller="UserManagement" asp-action="Delete" asp-route-id=@item.Id class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this user?');">Delete user</a>
            </td>
        </tr>
        index++;
    }
</table>
